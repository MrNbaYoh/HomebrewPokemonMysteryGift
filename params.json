{
  "name": "Pokemon 6G Chain Fishing Probability Analysis",
  "tagline": "",
  "body": "### Introduction\r\nWe know that chaining pokemon while fishing increase the probability to find a shiny pokemon. Some people think the chain increase the probability until the 40th encounter, but like the dexnav until few days ago, the real probabilities are unknown. So to continue my work on probabilities to find shiny pokemons, I decided to investigate the chain fishing.\r\nI will not talk another time of how the game treats the shininess, and neither the base probability to find a shiny pokemon.\r\n\r\n### How the chain fishing increases the probability\r\nThe game is actually able to compute multiple PID when the pokemon is generated, for each one it checks if it is shiny and if the PID is effectively shiny then it stops computing PIDs.  \r\nSo basically it looks like that :  \r\n\r\n    unsigned int n = ...;\r\n    ...\r\n    unsigned int PID;\r\n    for(unsigned int i = 0; i < n; i++)\r\n    {\r\n        PID = randomPID();\r\n        if(isShiny(TID, SID, PID)) break;\r\n    }\r\n\r\nSo to increase the probability, the game just increases the value of n. The base value of n is 1 and with the shiny charm it is incremented by 2. When you do a chain fishing, the game counts the number of chained encounters and for each new chained pokemon, it increments n by 2. But is the probability increased until the chain is broken or is there a maximum value ?\r\n\r\n### The maximum chain value\r\nAnalysing the heap memory I just located where the current chain count is stored. Then I manually edited this value, replaced it by something very big like 255, and looked how n was incremented. And here is the result, n is increased until the chain reaches the 20th pokemon. So n is computed like this :  \r\n    unsigned int chain = ...;\r\n    ...\r\n    unsigned int n = 1;\r\n    \r\n    if(shiny_charm)\r\n        n += 2;\r\n    \r\n    if(fishing)\r\n    {\r\n        if(chain > 20)\r\n            chain = 20;\r\n        n += 2 * chain;\r\n    }\r\n \r\nLet A be the event : \"the PID is shiny\". We have P(A) = 1/4096. We repeat the experiment n times and X is the step when the event A is realized, if the event never happens then we consider X=0.  \r\nSo finally we have :  \r\n\r\n    P(X >= 1) = 1 - P(X = 0)\r\n    P(X = 0) = pow((1 - (1/4096)), n)\r\n             = pow(4095/4096, n)\r\n    P(X >= 1) = 1 - pow(4095/4096, n)\r\n\r\n### Conclusion\r\nWe are now able to compute the probability to find a shiny pokemon when using the chain fishing method. We may remark that it is quite effective, here is my calculator allowing you to compute the probability based on your chain : \r\n[6th gen shiny calculator](https://mrnbayoh.github.io/pkmn6gen/shiny_calculator/)",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}